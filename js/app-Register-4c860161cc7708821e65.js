webpackJsonp([5],{388:function(t,e,r){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,l=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),u=r(12),c=o(u),f=r(48),p=r(47),d=o(p),y=r(398),h=(o(y),r(135),r(397)),b=(o(h),r(52)),m=r(410),g=o(m),v=new g.default,w=(0,f.observer)(s=function(e){function r(e){n(this,r);var o=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return o.componentWillMount=function(){t("#root").addClass("b-login")},o.setInput=function(e,r){var n=r.target.value,i=o.state.login;i[e]=t.trim(n),i[e+"Error"]=!1,o.setState({login:i})},o.validatePassword=function(){var t=o.state.login;t.password2!=t.password?t.passwordError=!0:t.passwordError=!1,o.setState({login:t})},o.validateEmail=function(){var t=o.state.login,e=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;""==t.email||e.test(t.email)?t.emailError=!1:t.emailError="格式不正确，例如a@email.com",o.setState({login:t})},o.isExitedEmail=function(){var t=o.state.login;v.userExsisted({email:t.email}),v.userExsistedResult&&""==t.emailError&&(t.emailError="邮箱已存在！"),o.setState({login:t})},o.setRadio=function(t,e){var r=o.state.login;r.sex=t,o.setState({login:r,sexChecked:e})},o.setSelect=function(e){var r=t(e.currentTarget).find("option:selected"),n=o.state.login;n.factory={name:r.text(),id:r.val()},o.setState({login:n})},o.registUser=function(){var t=o.state.login,e=o.state.validateList,r=!1;if(e.forEach(function(e,o){if(!t[e]||""==t[e]){t[e+"Error"]=!0,r=!0}}),o.setState({login:t}),!r){t.factory=t.factory?t.factory:{id:o.state.factory[0].id,name:o.state.factory[0].name};var n={name:t.userName,pwd:t.password,sex:t.sex||1,factory:t.factory,iid:t.idCard,email:t.email};v.userReg(n,function(){d.default.showTipsModal("恭喜您"+t.userName+"注册成功！","small","",function(){window.location.hash="#/login"})})}},o.state={login:{},validateList:["userName","email","idCard","password"],sex:[{name:"男",id:"1"},{name:"女",id:"2"}],sexChecked:0,factory:[{id:1,name:"工厂1 "},{id:2,name:"工厂2 "}]},o}return a(r,e),l(r,[{key:"render",value:function(){var t=this,e=this.state.login;return c.default.createElement("div",{className:"b-login"},c.default.createElement("div",{className:"b-login-box"},c.default.createElement("h1",null,"欢迎注册系统"),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"用户名："),c.default.createElement("input",{type:"text",className:e.userNameError?"input-error b-input":"b-input",value:e.userName,placeholder:"请输入用户名",onChange:this.setInput.bind(this,"userName")})),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"邮箱名："),c.default.createElement("input",{type:"text",className:e.emailError?"input-error b-input":"b-input",value:e.email,placeholder:"请输入邮箱",onChange:this.setInput.bind(this,"email"),onKeyUp:this.validateEmail,onBlur:this.isExitedEmail}),e.emailError?c.default.createElement("span",{className:"b-regist-error",style:{width:"300px"}},e.emailError):""),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"身份证号："),c.default.createElement("input",{type:"text",className:e.idCardError?"input-error b-input":"b-input",value:e.idCard,placeholder:"请输入身份证号",onChange:this.setInput.bind(this,"idCard")})),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"性别："),c.default.createElement("ul",null,this.state.sex.map(function(e,r){return c.default.createElement("li",{key:"sex"+r,onChange:t.setRadio.bind(t,e.id,r)},c.default.createElement("input",{type:"radio",className:"b-radio",checked:t.state.sexChecked==r||""}),c.default.createElement("span",{className:"b-radio-1"},e.name))}))),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"工厂："),c.default.createElement("select",{className:"b-select"},this.state.factory.map(function(e,r){return c.default.createElement("option",{key:"factory"+r,value:e.id,onChange:t.setSelect},e.name)}))),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"密码:"),c.default.createElement("input",{type:"password",className:e.passwordError?"input-error b-input":"b-input",value:e.password,onChange:this.setInput.bind(this,"password")})),c.default.createElement("div",{className:"row mt30"},c.default.createElement("span",null,"确认密码:"),c.default.createElement("input",{type:"password",value:e.password2,className:e.passwordError?"input-error b-input":"b-input",onChange:this.setInput.bind(this,"password2"),onKeyUp:this.validatePassword}),e.passwordError?c.default.createElement("span",{className:"b-regist-error",style:{width:"300px"}},"两次输入的密码不一样"):""),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"b-regist-box-btn"},c.default.createElement(b.Button,{onClick:this.registUser,bsStyle:"info"},"注册")),c.default.createElement("p",null,"已有账号? ",c.default.createElement("a",{href:"#/login"},"立即登录")))))}}]),r}(c.default.Component))||s;e.default=w}).call(e,r(95))},397:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getTime:function(){var t=new Date,e=t.getMonth()+1,r=t.getDate();return e=e<10?"0"+e:e,r=r<10?"0"+r:r,t.getFullYear()+"-"+e+"-"+r},formatDate:function(t,e){return Date.prototype.toForm=function(){var t=this.getMonth()+1,e=this.getDate();return t=t<10?"0"+t:t,e=e<10?"0"+e:e,this.getFullYear()+"-"+t+"-"+e},Date.prototype.toFormym=function(){var t=this.getMonth()+1,e=this.getDate();return t=t<10?"0"+t:t,e=e<10?"0"+e:e,this.getFullYear()+"年"+t+"月"},"ym"==e?new Date(t).toFormym():new Date(t).toForm()},updateMoney:function(t){return t||(t=""),isNaN(Number(t.toString().replace(/,/g,"")))?0:t.toString().replace(/,/g,"")},formatCurrency:function(t){if(!t)return"0.00";t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0.00");var e=t==(t=Math.abs(t));t=Math.floor(100*t+.50000000001);var r=t%100;t=Math.floor(t/100).toString(),r<10&&(r="0"+r);for(var o=0;o<Math.floor((t.length-(1+o))/3);o++)t=t.substring(0,t.length-(4*o+3))+","+t.substring(t.length-(4*o+3));return(e?"":"-")+t+"."+r},unmakeFormatCurrecy:function(t){return t.indexOf(",")>0?parseFloat(t.replace(/[^\d\.-]/g,"")):t}}},398:function(t,e,r){t.exports=r(1)(16)},410:function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e,r,o,n){var i={};return Object.keys(o).forEach(function(t){i[t]=o[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,o){return o(t,e,r)||r},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,l,u,c,f,p,d,y,h,b=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),m=r(96),g=r(415),v=(o(g),r(53)),w=o(v),S=r(397),E=(o(S),r(47)),O=o(E),j=r(95),T=o(j),x=(s=function(){function t(){i(this,t),this.globalStore=O.default,n(this,"userRegResult",l,this),n(this,"userExsistedResult",u,this),n(this,"factoryList",c,this),n(this,"orderListGather",f,this),n(this,"orderListOrders",p,this),n(this,"queryClientListData",d,this),n(this,"getSizeBaseData",y,this),n(this,"saveOrderSizesData",h,this)}return b(t,[{key:"userReg",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.userReg,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){t?(r.userRegResult=Object.assign({},t),"function"==typeof e&&e()):o.globalStore.showError(t.information?t.information:"查询失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"userExsisted",value:function(t){var e=this;T.default.ajax({type:"POST",url:w.default.bossBill.userExsisted,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result&&(e.userExsistedResult=!0)},error:function(t,r,o){e.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"userLogin",value:function(t,e){var r=this;T.default.ajax({type:"POST",url:w.default.bossBill.userLogin,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result&&"function"==typeof e&&e(t)},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"orderAdd",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.orderAdd,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e(t.order_id):o.globalStore.showError(t.information?t.information:"查询失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"getFactoryList",value:function(){var t={factoryList:[{id:1,name:"工厂A"},{id:2,name:"工厂B"}]};this.factoryList=Object.assign([],t.factoryList)}},{key:"orderSave",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.orderSave,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e(t):o.globalStore.showError(t.information?t.information:"查询失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"queryOrderList",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.queryOrderList,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?(r.orderListGather=Object.assign([],t.summarizes),r.orderListOrders=Object.assign([],t.orders),"function"==typeof e&&e(t)):o.globalStore.showError(t.information?t.information:"查询失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"queryClientList",value:function(t){var e=this,r=this;T.default.ajax({type:"POST",url:w.default.bossBill.queryClientList,dataType:"json",data:JSON.stringify({}),contentType:"application/json",success:function(e){e?(r.queryClientListData=Object.assign([],e.clients),"function"==typeof t&&t()):r.globalStore.showError(e.information?e.information:"查询失败")},error:function(t,r,o){e.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"getSizeBase",value:function(t){var e=this,r=this;T.default.ajax({type:"POST",url:w.default.bossBill.getSizeBase,dataType:"json",data:JSON.stringify({}),contentType:"application/json",success:function(e){0==e.result?(r.getSizeBaseData=Object.assign([],e.sizes),"function"==typeof t&&t()):r.globalStore.showError(e.information?e.information:"查询失败")},error:function(t,r,o){e.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveOrderSizes",value:function(){var t=this,e=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveOrderSizes,dataType:"json",data:JSON.stringify(param),contentType:"application/json",success:function(t){0==t.result?(e.saveOrderSizesData=Object.assign([],t.data.sizes),"function"==typeof callback&&callback()):e.globalStore.showError(t.information?t.information:"查询失败")},error:function(e,r,o){t.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveSizes",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveSizes,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?(o.saveOrderSizesData=Object.assign([],t.data.sizes),"function"==typeof e&&e()):o.globalStore.showError(t.information?t.information:"查询失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveOrderImg",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveOrderImg,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e():o.globalStore.showError(t.information?t.information:"保存失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveColth",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveColth,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e():o.globalStore.showError(t.information?t.information:"保存失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveSubmaterial",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveSubmaterial,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e():o.globalStore.showError(t.information?t.information:"保存失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveTech",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveTech,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e():o.globalStore.showError(t.information?t.information:"保存失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}},{key:"saveDeliver",value:function(t,e){var r=this,o=this;T.default.ajax({type:"POST",url:w.default.bossBill.saveDeliver,dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(t){0==t.result?"function"==typeof e&&e():o.globalStore.showError(t.information?t.information:"保存失败")},error:function(t,e,o){r.globalStore.showError("数据请求失败,错误信息:"+o.toString())}})}}]),t}(),l=a(s.prototype,"userRegResult",[m.observable],{enumerable:!0,initializer:function(){return{}}}),a(s.prototype,"userReg",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"userReg"),s.prototype),u=a(s.prototype,"userExsistedResult",[m.observable],{enumerable:!0,initializer:function(){return!1}}),a(s.prototype,"userExsisted",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"userExsisted"),s.prototype),a(s.prototype,"userLogin",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"userLogin"),s.prototype),a(s.prototype,"orderAdd",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"orderAdd"),s.prototype),c=a(s.prototype,"factoryList",[m.observable],{enumerable:!0,initializer:function(){return[]}}),a(s.prototype,"getFactoryList",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"getFactoryList"),s.prototype),a(s.prototype,"orderSave",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"orderSave"),s.prototype),f=a(s.prototype,"orderListGather",[m.observable],{enumerable:!0,initializer:function(){return[]}}),p=a(s.prototype,"orderListOrders",[m.observable],{enumerable:!0,initializer:function(){return[]}}),a(s.prototype,"queryOrderList",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"queryOrderList"),s.prototype),d=a(s.prototype,"queryClientListData",[m.observable],{enumerable:!0,initializer:function(){return[]}}),a(s.prototype,"queryClientList",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"queryClientList"),s.prototype),y=a(s.prototype,"getSizeBaseData",[m.observable],{enumerable:!0,initializer:function(){return[]}}),a(s.prototype,"getSizeBase",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"getSizeBase"),s.prototype),h=a(s.prototype,"saveOrderSizesData",[m.observable],{enumerable:!0,initializer:function(){return[]}}),a(s.prototype,"saveOrderSizes",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveOrderSizes"),s.prototype),a(s.prototype,"saveSizes",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveSizes"),s.prototype),a(s.prototype,"saveOrderImg",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveOrderImg"),s.prototype),a(s.prototype,"saveColth",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveColth"),s.prototype),a(s.prototype,"saveSubmaterial",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveSubmaterial"),s.prototype),a(s.prototype,"saveTech",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveTech"),s.prototype),a(s.prototype,"saveDeliver",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"saveDeliver"),s.prototype),s);e.default=x},415:function(t,e,r){r(416),t.exports=self.fetch.bind(self)},416:function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function o(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function n(t){this.map={},t instanceof n?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader,r=a(e);return e.readAsArrayBuffer(t),r}function l(t){var e=new FileReader,r=a(e);return e.readAsText(t),r}function u(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&v(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return S.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var r=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new n(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new n(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function h(t){var e=new n;return t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}}),e}function b(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new n(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};n.prototype.append=function(t,o){t=e(t),o=r(o);var n=this.map[t];this.map[t]=n?n+","+o:o},n.prototype.delete=function(t){delete this.map[e(t)]},n.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(t,o){this.map[e(t)]=r(o)},n.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},n.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),o(t)},n.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),o(t)},n.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),o(t)},m.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];b.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=n,t.Request=d,t.Response=b,t.fetch=function(t,e){return new Promise(function(r,o){var n=new d(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:h(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new b(e,t))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),n.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===n._bodyInit?null:n._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}});